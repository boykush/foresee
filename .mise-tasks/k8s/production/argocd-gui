#!/usr/bin/env bash
#MISE description="Open ArgoCD GUI for production environment"
#MISE depends=["k8s:production:connect"]

echo "Getting ArgoCD admin password..."
PASSWORD=$(kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d)

echo ""
echo "ArgoCD admin credentials:"
echo "  Username: admin"
echo "  Password: $PASSWORD"
echo ""
echo "Starting port-forward to ArgoCD server..."
echo "Access ArgoCD at: http://localhost:8081"
echo ""

kubectl port-forward svc/argocd-server -n argocd 8081:443
